disco.loadBundle("tdqai92l",["exports"],function(e){var t=window.disco.h,r=function(){function e(){}return e.prototype.render=function(){var e=["disco-card"];return this.selected&&e.push("disco-card--selected"),[t("div",{class:e.join(" ")},t("slot",{name:"header"}),t("hr",null),t("slot",null))]},Object.defineProperty(e,"is",{get:function(){return"disco-card"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"properties",{get:function(){return{selected:{type:Boolean,attr:"selected"}}},enumerable:!0,configurable:!0}),Object.defineProperty(e,"style",{get:function(){return":root{--text:#12425b;--text-light:#888;--text-heavy:#092634;--paper:#f2f2f2;--drop-shadow:#d6d6d6;--love:#e55d5d;--font-family:Arial,sans-serif;--font-size:14px;--border-radius:4px;--padding:1rem}disco-card .disco-card{background-color:var(--paper);border-radius:4px;-webkit-box-shadow:5px 6px 7px 0 var(--text-light);box-shadow:5px 6px 7px 0 var(--text-light);display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;height:180px;margin:12px 0;max-height:180px;min-height:180px;padding:18px 24px}disco-card .disco-card hr{margin:0}disco-card .disco-card p{margin:0;margin-top:9px;max-height:100px;overflow:auto;padding:0}disco-card .disco-card--selected{-webkit-box-shadow:8px 9px 11px 0 var(--text-light);box-shadow:8px 9px 11px 0 var(--text-light);-webkit-transform:translate3d(-6px,-7px,0);transform:translate3d(-6px,-7px,0);-webkit-transition-duration:.6s;transition-duration:.6s;-webkit-transition-property:-webkit-box-shadow,-webkit-transform;transition-property:-webkit-box-shadow,-webkit-transform;transition-property:box-shadow,transform;transition-property:box-shadow,transform,-webkit-box-shadow,-webkit-transform;-webkit-transition-timing-function:cubic-bezier(.16,1,.29,.99);transition-timing-function:cubic-bezier(.16,1,.29,.99)}"},enumerable:!0,configurable:!0}),e}(),n=function(){function e(){this.value="",this.valueLabel="",this.width="192",this.maxlength="",this.minlength="",this.placeholder=""}return e.prototype.componentWillLoad=function(){var e=this;if(this.value&&this.options&&this.options.length>0){var t=this.options.find(function(t){return t.value===e.value});t&&(this.valueLabel=t.label)}},e.prototype.discoDropDownOptionSelectedHandler=function(e){this.value=e.detail.value||"",this.valueLabel=e.detail.label||"",this.discoDropDownSelected.emit({value:this.value,label:this.valueLabel}),this.onInputClickAway()},e.prototype.onInputClick=function(e){var t=this;document.addEventListener("click",function r(n){e.target.parentElement.contains(n.target)&&"disco-dropdown__list-option"!==e.target.className||(t.show=!1,this.removeEventListener("click",r))}),this.show=!0},e.prototype.onInputClickAway=function(){this.show=!1},e.prototype.render=function(){var e=this,r=this.label?t("disco-label",null,this.label):void 0,n=this.error?t("disco-error",null,this.error):void 0,i=["disco-dropdown__list",this.show?"disco-dropdown__list--show":void 0];return[r,t("div",{class:"disco-dropdown__value-container",style:{width:this.width+"px"},onClick:function(t){return e.onInputClick(t)},onBlur:this.onInputClickAway.bind(this)},this.value?t("div",{class:"disco-dropdown__value"},this.valueLabel):t("div",{class:"disco-dropdown__placeholder"},this.placeholder),t("div",{class:i.join(" ")},t("ul",{class:"disco-dropdown__list-ul"},this.show&&this.options&&this.options.map(function(r){return t("disco-option",{selected:e.value===r.value,value:r.value,label:r.label})})))),n]},Object.defineProperty(e,"is",{get:function(){return"disco-dropdown"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"properties",{get:function(){return{el:{elementRef:!0},error:{type:String,attr:"error"},label:{type:String,attr:"label"},maxlength:{type:String,attr:"maxlength"},minlength:{type:String,attr:"minlength"},options:{type:"Any",attr:"options"},placeholder:{type:String,attr:"placeholder"},show:{state:!0},value:{type:String,attr:"value",mutable:!0},valueLabel:{type:String,attr:"value-label",mutable:!0},width:{type:String,attr:"width"}}},enumerable:!0,configurable:!0}),Object.defineProperty(e,"events",{get:function(){return[{name:"discoDropDownSelected",method:"discoDropDownSelected",bubbles:!0,cancelable:!0,composed:!0}]},enumerable:!0,configurable:!0}),Object.defineProperty(e,"listeners",{get:function(){return[{name:"discoDropDownOptionSelected",method:"discoDropDownOptionSelectedHandler"}]},enumerable:!0,configurable:!0}),Object.defineProperty(e,"style",{get:function(){return"\@charset \"UTF-8\";:root{--text:#12425b;--text-light:#888;--text-heavy:#092634;--paper:#f2f2f2;--drop-shadow:#d6d6d6;--love:#e55d5d;--font-family:Arial,sans-serif;--font-size:14px;--border-radius:4px;--padding:1rem}disco-dropdown .disco-dropdown__value-container{display:inline-block;margin-bottom:6px;margin-top:9px;position:relative;width:100%}disco-dropdown .disco-dropdown__placeholder,disco-dropdown .disco-dropdown__value{font-family:var(--font-family);font-size:1rem;font-weight:300;line-height:1rem;border-radius:var(--border-radius);border:1px solid var(--text-light);-webkit-box-sizing:border-box;box-sizing:border-box;height:36px;padding:.6rem 1rem;width:100%}disco-dropdown .disco-dropdown__placeholder:after,disco-dropdown .disco-dropdown__value:after{content:\"â–¿\";position:absolute;top:6px;right:1rem}disco-dropdown .disco-dropdown__placeholder{color:var(--text-light)}disco-dropdown .disco-dropdown__list{display:none;background:#fff;border-radius:4px;-webkit-box-shadow:0 1px 4px 0 var(--text-light);box-shadow:0 1px 4px 0 var(--text-light);position:absolute;left:0;top:36px;width:100%;z-index:100}disco-dropdown .disco-dropdown__list--show{display:block}disco-dropdown .disco-dropdown__list-ul{list-style:none;padding:0;margin:12px 0}"},enumerable:!0,configurable:!0}),e}(),i=function(){function e(){}return e.prototype.render=function(){var e=this,r=new Date(this.game.created_at),n=r.getMonth()+1+"-"+r.getDate()+"-"+r.getFullYear();return t("disco-card",{selected:this.selected,onClick:function(t){return e.discoGameCardSelected.emit(e.game)}},t("disco-header",{slot:"header",title:this.game.name,"release-date":n,percent:this.game.rating,count:this.game.rating_count,hearts:this.game.popularity}),t("p",null,this.game.summary))},Object.defineProperty(e,"is",{get:function(){return"disco-game-card"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"properties",{get:function(){return{game:{type:"Any",attr:"game"},selected:{type:Boolean,attr:"selected"}}},enumerable:!0,configurable:!0}),Object.defineProperty(e,"events",{get:function(){return[{name:"discoGameCardSelected",method:"discoGameCardSelected",bubbles:!0,cancelable:!0,composed:!0}]},enumerable:!0,configurable:!0}),Object.defineProperty(e,"style",{get:function(){return""},enumerable:!0,configurable:!0}),e}(),a=function(){function e(){}return e.prototype.render=function(){return t("div",{class:"disco-header"},t("div",{class:"disco-header__left"},t("div",{class:"disco-header__title"},this.title),t("div",{class:"disco-header__release-date"},"Release in ",this.releaseDate)),t("div",{class:"disco-header__right"},t("disco-ratings",{percent:this.percent,count:this.count,hearts:this.hearts})))},Object.defineProperty(e,"is",{get:function(){return"disco-header"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"properties",{get:function(){return{count:{type:String,attr:"count"},hearts:{type:String,attr:"hearts"},percent:{type:String,attr:"percent"},releaseDate:{type:String,attr:"release-date"},title:{type:String,attr:"title"}}},enumerable:!0,configurable:!0}),Object.defineProperty(e,"style",{get:function(){return":root{--text:#12425b;--text-light:#888;--text-heavy:#092634;--paper:#f2f2f2;--drop-shadow:#d6d6d6;--love:#e55d5d;--font-family:Arial,sans-serif;--font-size:14px;--border-radius:4px;--padding:1rem}disco-header{font-family:var(--font-family);font-size:1rem;font-weight:300;line-height:1rem}disco-header .disco-header{display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;-ms-flex-wrap:wrap;flex-wrap:wrap}disco-header .disco-header__left{-ms-flex:1;flex:1;margin:0;min-width:400px}disco-header .disco-header__right{vertical-align:middle}disco-header .disco-header__title{font-family:var(--font-family);font-size:1.4rem;font-weight:800;line-height:1.4rem}disco-header .disco-header__release-date{color:var(--text-light);margin:1rem 0}"},enumerable:!0,configurable:!0}),e}(),o=function(){function e(){this.value="",this.type="text",this.width="240",this.maxlength="",this.minlength="",this.placeholder=""}return e.prototype.onInput=function(e){var t=e.target;t&&(this.value=t.value||""),this.discoInput.emit(this.value)},e.prototype.render=function(){var e=this.label?t("disco-label",null,this.label):void 0,r=this.error?t("disco-error",null,this.error):void 0;return[e,t("input",{value:this.value,style:{width:this.width+"px"},type:this.type,placeholder:this.placeholder,maxlength:this.maxlength,minlength:this.minlength,onInput:this.onInput.bind(this)}),r]},Object.defineProperty(e,"is",{get:function(){return"disco-input"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"properties",{get:function(){return{el:{elementRef:!0},error:{type:String,attr:"error"},label:{type:String,attr:"label"},maxlength:{type:String,attr:"maxlength"},minlength:{type:String,attr:"minlength"},placeholder:{type:String,attr:"placeholder"},type:{type:String,attr:"type"},value:{type:String,attr:"value",mutable:!0},width:{type:String,attr:"width"}}},enumerable:!0,configurable:!0}),Object.defineProperty(e,"events",{get:function(){return[{name:"discoInput",method:"discoInput",bubbles:!0,cancelable:!0,composed:!0}]},enumerable:!0,configurable:!0}),Object.defineProperty(e,"style",{get:function(){return":root{--text:#12425b;--text-light:#888;--text-heavy:#092634;--paper:#f2f2f2;--drop-shadow:#d6d6d6;--love:#e55d5d;--font-family:Arial,sans-serif;--font-size:14px;--border-radius:4px;--padding:1rem}disco-input input{font-size:1rem;font-weight:300;line-height:1rem;border:1px solid var(--text-light);border-radius:var(--border-radius);color:var(--text-heavy);font-family:var(--font-family);height:32px;margin-bottom:6px;margin-top:9px;padding-left:var(--padding);padding-right:var(--padding)}disco-input input ::-webkit-input-placeholder{color:var(--text-light)}disco-input input :-ms-input-placeholder{color:var(--text-light)}disco-input input ::-ms-input-placeholder{color:var(--text-light)}disco-input input ::placeholder{color:var(--text-light)}"},enumerable:!0,configurable:!0}),e}(),s=function(e,t){if(!e)throw Error("igdb get requires a game identifier");var r={method:"POST",headers:{"Content-type":"application/json; charset=UTF-8"},body:JSON.stringify({id:e,fields:t||"*"})};return fetch("https://disco-api.herokuapp.com/get",r).then(function(e){return e.json()})},l=function(e,t,r,n,i){var a={fields:n||"*",orderBy:i||"popularity:desc"};e&&(a.search=e),t&&(a["filter[release_dates.date][gte]"]=t),r&&(a["filter[release_dates.date][lte]"]=r);var o={method:"POST",headers:{"Content-type":"application/json; charset=UTF-8"},body:JSON.stringify({params:a})};return fetch("https://disco-api.herokuapp.com/list",o).then(function(e){return e.json()})},c=function(){function e(){this.isLoading=!0,this.sortBy="name:asc",this.sortOptions=[{value:"name:asc",label:"Game title (A to Z)"},{value:"release_dates.date:desc",label:"Recently released"}]}return e.prototype.componentWillLoad=function(){this.fetchData()},e.prototype.onDiscoGameSelected=function(e){e.preventDefault();var t=e.detail;this.selectedId===t.id?(this.selectedId=void 0,this.discoGameSelected.emit(void 0)):(this.selectedId=t.id,this.discoGameSelected.emit(t))},e.prototype.onDiscoInput=function(e){this.searchField=e.detail,this.fetchData()},e.prototype.onDiscoDropDownSelected=function(e){this.sortBy=e.detail.value,this.fetchData()},e.prototype.onDiscoReleaseYears=function(e){this.releaseEndYear=e.detail.endYear?e.detail.endYear+"-12-31":void 0,this.releaseStartYear=e.detail.startYear?e.detail.startYear+"-01-01":void 0,this.fetchData()},e.prototype.fetchData=function(){var e=this;this.games=[],this.isLoading=!0,l(this.searchField,this.releaseStartYear,this.releaseEndYear,"*",this.sortBy).then(function(t){var r=t.map(function(e){return s(e.id)});e.games=[],Promise.all(r).then(function(t){t.forEach(function(t){t.popularity=t.popularity?+parseFloat(t.popularity).toFixed(2):0,e.games.push(t)}),e.isLoading=!1})}).catch(function(t){e.isLoading=!1})},e.prototype.render=function(){var e=this;return t("div",{class:"disco-list"},t("div",{class:"disco-list__filter"},t("disco-input",{placeholder:"Find games by title",label:" "})),t("div",{class:"disco-list__release-year"},t("disco-release-years",null)),t("div",{class:"disco-list__sort"},t("disco-dropdown",{value:this.sortBy,placeholder:"",label:"Sort By",options:this.sortOptions})),t("div",{class:"disco-list__main"},this.games&&this.games.length>0?this.games.map(function(r){return t("disco-game-card",{selected:r.id===e.selectedId,game:r})}):t("disco-label",null,this.isLoading?"Please be patient while I load these games for you.":"Is this the apocalypse because there are no games")))},Object.defineProperty(e,"is",{get:function(){return"disco-list"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"properties",{get:function(){return{games:{state:!0},isLoading:{state:!0},releaseEndYear:{state:!0},releaseStartYear:{state:!0},searchField:{state:!0},selectedId:{state:!0},sortBy:{state:!0}}},enumerable:!0,configurable:!0}),Object.defineProperty(e,"events",{get:function(){return[{name:"discoGameSelected",method:"discoGameSelected",bubbles:!0,cancelable:!0,composed:!0}]},enumerable:!0,configurable:!0}),Object.defineProperty(e,"listeners",{get:function(){return[{name:"discoGameCardSelected",method:"onDiscoGameSelected"},{name:"discoInput",method:"onDiscoInput"},{name:"discoDropDownSelected",method:"onDiscoDropDownSelected"},{name:"discoReleaseYears",method:"onDiscoReleaseYears"}]},enumerable:!0,configurable:!0}),Object.defineProperty(e,"style",{get:function(){return":root{--text:#12425b;--text-light:#888;--text-heavy:#092634;--paper:#f2f2f2;--drop-shadow:#d6d6d6;--love:#e55d5d;--font-family:Arial,sans-serif;--font-size:14px;--border-radius:4px;--padding:1rem}disco-list .disco-list{padding:24px 72px;display:grid;grid-template-columns:240px auto 180px 192px;grid-template-rows:76px auto;grid-template-areas:\"filter . releaseyear sort\" \"main main main main\";grid-column-gap:16px;grid-row-gap:24px}disco-list .disco-list__filter{grid-area:filter}disco-list .disco-list__release-year{grid-area:releaseyear}disco-list .disco-list__sort{grid-area:sort}disco-list .disco-list__main{grid-area:main;min-height:4em;max-height:100%}"},enumerable:!0,configurable:!0}),e}(),d=function(){function e(){}return e.prototype.onOptionSelected=function(){this.discoDropDownOptionSelected.emit({value:this.value,label:this.label})},e.prototype.render=function(){var e=this;return[t("li",{class:["disco-dropdown__list-option",this.selected?"disco-dropdown__list-option--selected":void 0].join(" "),onClick:function(t){return e.onOptionSelected()}},this.label)]},Object.defineProperty(e,"is",{get:function(){return"disco-option"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"properties",{get:function(){return{label:{type:String,attr:"label"},selected:{type:Boolean,attr:"selected"},value:{type:String,attr:"value"}}},enumerable:!0,configurable:!0}),Object.defineProperty(e,"events",{get:function(){return[{name:"discoDropDownOptionSelected",method:"discoDropDownOptionSelected",bubbles:!0,cancelable:!0,composed:!0}]},enumerable:!0,configurable:!0}),Object.defineProperty(e,"style",{get:function(){return":root{--text:#12425b;--text-light:#888;--text-heavy:#092634;--paper:#f2f2f2;--drop-shadow:#d6d6d6;--love:#e55d5d;--font-family:Arial,sans-serif;--font-size:14px;--border-radius:4px;--padding:1rem}disco-option .disco-dropdown__list-option{font-family:var(--font-family);font-size:1rem;font-weight:300;line-height:1rem;list-style:none;padding:7px 1rem}disco-option .disco-dropdown__list-option:hover{background-color:var(--paper);cursor:pointer}disco-option .disco-dropdown__list-option--selected{background-color:var(--paper)}"},enumerable:!0,configurable:!0}),e}(),u=function(){function e(){this.errorMessages=[]}return e.prototype.updateStartYear=function(e){e.stopPropagation(),this.startYear=e.detail,this.validateYears()},e.prototype.updateEndYear=function(e){e.stopPropagation(),this.endYear=e.detail,this.validateYears()},e.prototype.validateYears=function(){var e=Number(this.startYear),t=Number(this.endYear);this.errorMessages=[],this.startYear&&this.startYear.length>0&&this.startYear.length<4&&this.errorMessages.push("The starting year must be 4 characters long."),this.endYear&&this.endYear.length>0&&this.endYear.length<4&&this.errorMessages.push("The ending year must be 4 characters long."),(this.endYear&&this.endYear.length>0&&isNaN(t)||this.startYear&&this.startYear.length>0&&isNaN(e))&&this.errorMessages.push("The values can only be numbers."),0===this.errorMessages.length&&this.startYear&&this.endYear&&e>t&&this.errorMessages.push("The start year cannot be greater than end year."),0===this.errorMessages.length&&this.discoReleaseYears.emit({startYear:this.startYear,endYear:this.endYear})},e.prototype.render=function(){var e=this,r=this.errorMessages.map(function(e){return t("disco-error",null,e)});return[t("disco-label",null,"Release Years"),t("div",{class:"disco-release-years__input-container"},t("disco-input",{value:this.startYear,type:"text",width:"36",maxlength:"4",minlength:"4",onDiscoInput:function(t){return e.updateStartYear(t)}}),t("span",{class:"disco-release-years__to"},"to"),t("disco-input",{value:this.endYear,type:"text",width:"36",maxlength:"4",minlength:"4",onDiscoInput:function(t){return e.updateEndYear(t)}})),r]},Object.defineProperty(e,"is",{get:function(){return"disco-release-years"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"properties",{get:function(){return{endYear:{type:String,attr:"end-year",mutable:!0},startYear:{type:String,attr:"start-year",mutable:!0}}},enumerable:!0,configurable:!0}),Object.defineProperty(e,"events",{get:function(){return[{name:"discoReleaseYears",method:"discoReleaseYears",bubbles:!0,cancelable:!0,composed:!0}]},enumerable:!0,configurable:!0}),Object.defineProperty(e,"style",{get:function(){return":root{--text:#12425b;--text-light:#888;--text-heavy:#092634;--paper:#f2f2f2;--drop-shadow:#d6d6d6;--love:#e55d5d;--font-family:Arial,sans-serif;--font-size:14px;--border-radius:4px;--padding:1rem}disco-release-years .disco-release-years{position:relative;width:180px}disco-release-years .disco-release-years__input-container{width:180px}disco-release-years .disco-release-years__input-container disco-input{display:inline-block}disco-release-years .disco-release-years__input-container disco-input input{padding-left:.9rem;padding-right:.9rem}disco-release-years .disco-release-years__to{padding-left:1rem;padding-right:1rem}disco-release-years disco-error{width:180px}"},enumerable:!0,configurable:!0}),e}();e.DiscoCard=r,e.DiscoDropdown=n,e.DiscoGameCard=i,e.DiscoHeader=a,e.DiscoInput=o,e.DiscoList=c,e.DiscoOption=d,e.DiscoReleaseYears=u,Object.defineProperty(e,"__esModule",{value:!0})});